# åƒé—®ä¿®æ”¹åçš„ï¼š

# ğŸ“Œ å¯¼å…¥æ‰€éœ€æ¨¡å—
from pathlib import Path               # âœ… pathlib.Pathï¼šç°ä»£ã€é¢å‘å¯¹è±¡çš„è·¯å¾„æ“ä½œï¼ˆè·¨å¹³å°å®‰å…¨ï¼‰
from datetime import datetime          # âœ… datetimeï¼šç”¨äºè§£æå’Œå¤„ç†æ—¥æœŸæ—¶é—´
import csv                             # âœ… csv æ¨¡å—ï¼šä¸“é—¨ç”¨äºè¯»å†™ CSVï¼ˆé€—å·åˆ†éš”å€¼ï¼‰æ–‡ä»¶
import matplotlib.pyplot as plt        # âœ… matplotlib.pyplotï¼šä¸»æµ 2D ç»˜å›¾åº“ï¼Œplt æ˜¯æƒ¯ç”¨åˆ«å


# ================================================================
# ğŸ“ å®šä¹‰æ•°æ®æ–‡ä»¶è·¯å¾„ï¼ˆä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²é¿å…è½¬ä¹‰é—®é¢˜ï¼‰ï¼š

# ğŸ’¡Windows è·¯å¾„ä¸­åæ–œæ  \ æ˜¯è½¬ä¹‰å­—ç¬¦ï¼ˆå¦‚ \n = æ¢è¡Œï¼‰ï¼Œç”¨ r"..." åˆ›å»ºã€ŒåŸå§‹å­—ç¬¦ä¸²ã€å¯åŸæ ·ä¿ç•™ \
# Path å¯¹è±¡æä¾› .read_text()ã€.exists() ç­‰æ–¹æ³•ï¼Œæ¯” os.path æ›´ç®€æ´å®‰å…¨
path = Path(r'F:\Code_Algorithm_Math\PythonåŸºç¡€\ã€ŠPythonç¼–ç¨‹ä»å…¥é—¨åˆ°å®è·µã€‹\PythonèŸ’è›‡ä¹¦ä¹¦æºä»£ç æ–‡ä»¶\chapter_16\the_csv_file_format\weather_data\sitka_weather_2021_full.csv')


# ğŸ“– è¯»å–æ•´ä¸ª CSV æ–‡ä»¶å†…å®¹ï¼š

# read_text()ï¼šä»¥ UTF-8 ç¼–ç è¯»å–æ•´ä¸ªæ–‡ä»¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆè‡ªåŠ¨å¤„ç†æ–‡ä»¶æ‰“å¼€/å…³é—­ï¼‰
# splitlines()ï¼šæŒ‰è¡Œåˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨ linesï¼Œæ¯è¡Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å« \nï¼‰
lines = path.read_text().splitlines()


# ğŸ§¾ åˆ›å»º CSV é˜…è¯»å™¨å¹¶è¯»å–è¡¨å¤´ï¼ˆç¬¬ä¸€è¡Œï¼‰ï¼š

# csv.reader(iterable)ï¼šå°†å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚ lines åˆ—è¡¨ï¼‰è½¬æ¢ä¸º CSV è¡Œè§£æå™¨ã€‚ ï¼ˆiterableæ„æ€æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼‰
# å®ƒä¼šè‡ªåŠ¨æŒ‰é€—å·åˆ†éš”å­—æ®µï¼Œå¹¶å¤„ç†å¼•å·ã€æ¢è¡Œç­‰ CSV ç‰¹æ®Šæƒ…å†µ
reader = csv.reader(lines)

# next(reader)ï¼šè·å–é˜…è¯»å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´  â†’ å³ CSV ç¬¬ä¸€è¡Œï¼ˆè¡¨å¤´ï¼‰
# æ­¤æ“ä½œä¼šã€Œæ¶ˆè€—ã€ç¬¬ä¸€è¡Œï¼Œåç»­éå† reader æ—¶ä»ç¬¬äºŒè¡Œï¼ˆæ•°æ®è¡Œï¼‰å¼€å§‹
header_row = next(reader)


# ğŸ” æ‰“å°è¡¨å¤´åˆ—ååŠå…¶ç´¢å¼•ï¼ˆç”¨äºç¡®è®¤ PRCP å’Œ DATE çš„ä½ç½®ï¼‰ï¼š

# enumerate(iterable)ï¼šåœ¨ for å¾ªç¯ä¸­åŒæ—¶è·å–ã€Œç´¢å¼•ã€å’Œã€Œå…ƒç´ ã€
# ç”¨é€”ï¼šå¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°å…³é”®åˆ—ï¼ˆå¦‚ "DATE", "PRCP"ï¼‰çš„å®é™…ä½ç½®ï¼ˆç´¢å¼•ï¼‰
for index, column_header in enumerate(header_row):
    print(index, column_header)  # ç¤ºä¾‹è¾“å‡ºï¼š2 DATE, 5 PRCP


# ğŸ” åŠ¨æ€æŸ¥æ‰¾å…³é”®åˆ—çš„ç´¢å¼•ï¼ˆé¿å…ç¡¬ç¼–ç ï¼Œæé«˜å¥å£®æ€§ï¼‰

try:
    # list.index(value)ï¼šè¿”å› value åœ¨åˆ—è¡¨ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
    # å¦‚æœåˆ—åä¸å­˜åœ¨ï¼Œä¼šæŠ›å‡º ValueError â†’ ç”¨ try-except æ•è·
    date_index = header_row.index("DATE")   # æ—¥æœŸåˆ—
    prcp_index = header_row.index("PRCP")   # é™æ°´é‡åˆ—ï¼ˆPrecipitationï¼‰ï¼ŒPrecipitation æ˜¯é™æ°´é‡ï¼ˆé›¨é‡ï¼‰çš„ç®€ç§°ï¼Œè¯»ä½œã€Œpre-sip-ih-tay-shunã€
except ValueError as e:                     # e æ˜¯å¼‚å¸¸å¯¹è±¡ï¼ŒåŒ…å«é”™è¯¯ä¿¡æ¯
    # å¦‚æœæ‰¾ä¸åˆ°æŒ‡å®šåˆ—åï¼Œæ‰“å°é”™è¯¯å¹¶é€€å‡ºç¨‹åº
    print(f"Required column not found in CSV header: {e}")
    exit()                                  # å®‰å…¨ç»ˆæ­¢ç¨‹åº, exit()æ˜¯å†…ç½®å‡½æ•°ï¼Œç”¨äºç»ˆæ­¢ç¨‹åºæ‰§è¡Œ


# ğŸ“Š æå–æ—¥æœŸå’Œé™æ°´é‡æ•°æ®ï¼ˆå¸¦å¼‚å¸¸å¤„ç†ï¼‰ï¼š

# åˆå§‹åŒ–ä¸¤ä¸ªç©ºåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨è§£æåçš„æ•°æ®
dates = []           # å­˜æ”¾ datetime å¯¹è±¡ï¼ˆX è½´ï¼‰
precipitations = []  # å­˜æ”¾æµ®ç‚¹å‹é™æ°´é‡ï¼ˆå•ä½ï¼šè‹±å¯¸ï¼ŒY è½´ï¼‰

# éå† reader ä¸­å‰©ä½™çš„æ‰€æœ‰æ•°æ®è¡Œï¼ˆä»ç¬¬äºŒè¡Œå¼€å§‹ï¼‰
for row in reader:
    try:
        # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è§£ææ—¥æœŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        # å‡è®¾æ—¥æœŸæ ¼å¼ä¸º '2021/1/1' â†’ ä½¿ç”¨ '%Y/%m/%d'
        # %Y: å››ä½å¹´ä»½, %m: æœˆä»½ï¼ˆå¯æ— å‰å¯¼é›¶ï¼‰, %d: æ—¥æœŸï¼ˆå¯æ— å‰å¯¼é›¶ï¼‰
        current_date = datetime.strptime(row[date_index], '%Y/%m/%d')
        
        # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è§£æé™æ°´é‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        # PRCP å¯èƒ½æ˜¯ç©ºå­—ç¬¦ä¸² ""ã€"0" æˆ–å°æ•°å¦‚ "0.25"
        # float() å¯å°† "0.25" â†’ 0.25ï¼Œä½† "" æˆ– "N/A" ä¼šå¼•å‘ ValueError
        prcp = float(row[prcp_index])
    
    except (ValueError, IndexError):
        # æ•è·ä¸¤ç±»é”™è¯¯ï¼š
        #   - ValueError: æ—¥æœŸæ ¼å¼é”™è¯¯ æˆ– é™æ°´é‡æ— æ³•è½¬ä¸ºæ•°å­—
        #   - IndexError: è¡Œå­—æ®µæ•°ä¸è¶³ï¼ˆå¦‚ç©ºè¡Œæˆ–æŸåè¡Œï¼‰
        # ğŸ’¡é‡åˆ°æ— æ•ˆæ•°æ®æ—¶è·³è¿‡è¯¥è¡Œï¼Œä¿è¯ç¨‹åºç»§ç»­è¿è¡Œ
        continue
    
    else:
        # ä»…å½“ try å—æ— å¼‚å¸¸æ—¶æ‰§è¡Œ â†’ æ•°æ®æœ‰æ•ˆ
        dates.append(current_date)
        precipitations.append(prcp)


# ğŸ“ˆ ç»˜åˆ¶é™æ°´é‡å¯è§†åŒ–å›¾è¡¨ï¼š

# è®¾ç½®ç»˜å›¾é£æ ¼ï¼ˆseaborn æ˜¯ç¾è§‚çš„é»˜è®¤æ ·å¼ä¹‹ä¸€ï¼‰
plt.style.use('seaborn-v0_8')

# åˆ›å»ºå›¾å½¢ï¼ˆfigureï¼‰å’Œåæ ‡è½´ï¼ˆaxesï¼‰å¯¹è±¡
# figsize=(width, height)ï¼šè®¾ç½®å›¾å½¢å°ºå¯¸ï¼ˆè‹±å¯¸ï¼‰ï¼Œè®©é•¿æ—¶é—´åºåˆ—æ›´æ¸…æ™°
fig, ax = plt.subplots(figsize=(12, 6))

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç»˜åˆ¶æŠ˜çº¿å›¾ + å¡«å……åŒºåŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# æŠ˜çº¿ï¼šæ˜¾ç¤ºé™æ°´å˜åŒ–è¶‹åŠ¿
ax.plot(dates, precipitations, c='blue', alpha=0.7, linewidth=1)

# å¡«å……ï¼šä» x è½´ï¼ˆy=0ï¼‰åˆ°æ›²çº¿ä¹‹é—´ç€è‰²ï¼Œç›´è§‚è¡¨ç¤ºã€Œé™æ°´æ€»é‡ã€
# facecolorï¼šå¡«å……é¢œè‰²ï¼›alphaï¼šé€æ˜åº¦ï¼ˆ0ï½1ï¼‰
ax.fill_between(dates, precipitations, facecolor='blue', alpha=0.3)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è®¾ç½®å›¾è¡¨å…ƒä¿¡æ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ax.set_title("Daily Precipitation in Sitka - 2021", fontsize=24)
ax.set_xlabel('', fontsize=16)  # X è½´æ ‡ç­¾ç•™ç©ºï¼Œå› æ—¥æœŸæœ¬èº«å·²æ˜ç¡®
ax.set_ylabel("Precipitation (inches)", fontsize=16)  # Y è½´ï¼šé™æ°´é‡å•ä½ä¸ºè‹±å¯¸

# è‡ªåŠ¨æ—‹è½¬å¹¶å³å¯¹é½ X è½´æ—¥æœŸæ ‡ç­¾ï¼Œé˜²æ­¢é‡å ï¼ˆå¯¹é•¿æ—¶é—´åºåˆ—è‡³å…³é‡è¦ï¼ï¼‰
fig.autofmt_xdate()

# è®¾ç½®åˆ»åº¦æ ‡ç­¾å­—ä½“å¤§å°
ax.tick_params(axis='both', which='major', labelsize=14)

# å¼ºåˆ¶ Y è½´ä» 0 å¼€å§‹ï¼ˆé™æ°´é‡ä¸å¯èƒ½ä¸ºè´Ÿï¼Œé¿å…è¯¯å¯¼ï¼‰
ax.set_ylim(bottom=0)

# è‡ªåŠ¨è°ƒæ•´å¸ƒå±€ï¼Œé˜²æ­¢æ ‡é¢˜/æ ‡ç­¾è¢«çª—å£è£å‰ª
plt.tight_layout()

# æ˜¾ç¤ºæœ€ç»ˆå›¾å½¢ï¼ˆå¼¹å‡ºçª—å£ï¼‰
plt.show()

# ==========================================================

'''
é€è¡Œè¯¦ç»†æ³¨é‡Šï¼Œæ¶µç›–ï¼š
âœ… Python è¯­æ³•ä¸æ ‡å‡†åº“çŸ¥è¯†ç‚¹
âœ… ä»£ç é€»è¾‘ä¸æ•°æ®å¤„ç†æµç¨‹
âœ… æ°”è±¡æ•°æ®å¯è§†åŒ–æœ€ä½³å®è·µ

 æ ¸å¿ƒ Python çŸ¥è¯†ç‚¹æ€»ç»“ï¼š
è¡¨æ ¼
æ¦‚å¿µ	                    è¯´æ˜
Path.read_text()	    å®‰å…¨è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œè‡ªåŠ¨å¤„ç†ç¼–ç å’Œæ–‡ä»¶å…³é—­
csv.reader()	        æ­£ç¡®è§£æ CSV ç»“æ„ï¼ˆå¤„ç†å¼•å·ã€é€—å·ã€æ¢è¡Œç­‰ï¼‰
datetime.strptime()	    å­—ç¬¦ä¸² â†’ datetime å¯¹è±¡ï¼Œéœ€ä¸¥æ ¼åŒ¹é…æ ¼å¼
list.index()	        ğŸ’¡å®‰å…¨è·å–åˆ—åå¯¹åº”ç´¢å¼•ï¼Œé¿å…ç¡¬ç¼–ç 
try...except (A, B)	    åŒæ—¶æ•è·å¤šç§å¼‚å¸¸ç±»å‹
matplotlib ç»˜å›¾æµç¨‹	     subplots() â†’ plot() / fill_between() â†’ set_*() â†’ show()
fig.autofmt_xdate()	    è‡ªåŠ¨ä¼˜åŒ–æ—¥æœŸæ ‡ç­¾æ˜¾ç¤ºï¼ˆå¿…ç”¨ï¼ï¼‰
plt.tight_layout()	    è‡ªåŠ¨è°ƒæ•´å­å›¾é—´è·ï¼Œé˜²æ­¢æ–‡å­—è¢«è£å‰ª

ğŸŒ§ï¸ ä»£ç é€»è¾‘æµç¨‹å›¾ï¼š

1. è¯»å– CSV æ–‡ä»¶å…¨éƒ¨å†…å®¹ â†’ æŒ‰è¡Œåˆ†å‰²
2. ç”¨ csv.reader è§£æ â†’ è·å–è¡¨å¤´
3. æ‰“å°è¡¨å¤´ â†’ ç¡®è®¤ "DATE" å’Œ "PRCP" åˆ—å
4. åŠ¨æ€æŸ¥æ‰¾åˆ—ç´¢å¼•ï¼ˆéç¡¬ç¼–ç ï¼‰
5. éå†æ•°æ®è¡Œï¼š
   â”œâ”€ å°è¯•è§£ææ—¥æœŸï¼ˆstr â†’ datetimeï¼‰
   â”œâ”€ å°è¯•è§£æé™æ°´é‡ï¼ˆstr â†’ floatï¼‰
   â”œâ”€ è‹¥ä»»ä¸€å¤±è´¥ â†’ è·³è¿‡è¯¥è¡Œ
   â””â”€ è‹¥æˆåŠŸ â†’ å­˜å…¥ dates å’Œ precipitations
6. ç”¨ matplotlib ç»˜åˆ¶ï¼š
   â”œâ”€ æŠ˜çº¿å›¾æ˜¾ç¤ºè¶‹åŠ¿
   â”œâ”€ å¡«å……åŒºåŸŸğŸ’¡å¼ºè°ƒé™æ°´äº‹ä»¶
   â”œâ”€ è®¾ç½®æ ‡é¢˜ã€åæ ‡è½´ã€æ ¼å¼
7. æ˜¾ç¤ºå›¾è¡¨

ğŸ’¡ ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿï¼š
å¥å£®æ€§ï¼šé€šè¿‡åŠ¨æ€åˆ—åğŸ’¡æŸ¥æ‰¾ + å¼‚å¸¸å¤„ç†ï¼ŒğŸ’¡é€‚åº”ä¸åŒç‰ˆæœ¬ CSVã€‚
å¯è¯»æ€§ğŸ’¡ï¼šå˜é‡å precipitations æ˜ç¡®è¡¨è¾¾æ•°æ®å«ä¹‰ã€‚

å¯è§†åŒ–åˆç†æ€§ï¼š
é™æ°´é‡ä» 0 å¼€å§‹å¡«å…… â†’ ç¬¦åˆğŸ’¡ç‰©ç†æ„ä¹‰
Y è½´å¼ºåˆ¶ â‰¥0 â†’ é¿å…è´Ÿå€¼è¯¯å¯¼ğŸ’¡
è‡ªåŠ¨æ ¼å¼åŒ–æ—¥æœŸ â†’ è§£å†³æ ‡ç­¾é‡å é—®é¢˜
è¿™ä»½ä»£ç ä¸ä»…å®Œæˆäº†é¢˜ç›®è¦æ±‚ï¼Œè¿˜ä½“ç°äº†ä¸“ä¸šçº§æ•°æ®å¤„ç†è„šæœ¬çš„ç¼–å†™è§„èŒƒã€‚
ä½ å¯ä»¥ç›´æ¥è¿è¡Œå®ƒæ¥ç”Ÿæˆ Sitka 2021 å¹´çš„é™æ°´å¯è§†åŒ–å›¾è¡¨ï¼
å¦‚æœéœ€è¦æ”¹ä¸ºæŸ±çŠ¶å›¾ã€æ·»åŠ ç»Ÿè®¡ä¿¡æ¯æˆ–ä¿å­˜å›¾åƒï¼Œä¹Ÿå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•ã€‚
'''


# è‡ªå·±å†™çš„ä»£ç ï¼š
'''
from pathlib import Path
from datetime import datetime
import csv
import matplotlib.pyplot as plt

path = Path(r'F:\Code_Algorithm_Math\PythonåŸºç¡€\ã€ŠPythonç¼–ç¨‹ä»å…¥é—¨åˆ°å®è·µã€‹\PythonèŸ’è›‡ä¹¦ä¹¦æºä»£ç æ–‡ä»¶\chapter_16\the_csv_file_format\weather_data\sitka_weather_2021_full.csv')
lines = path.read_text().splitlines() # å°†æ–‡ä»¶å†…å®¹æŒ‰è¡Œåˆ†å‰², å¹¶å­˜å‚¨åˆ°åˆ—è¡¨linesä¸­, æ¯ä¸ªå…ƒç´ ä¸ºæ–‡ä»¶çš„ä¸€è¡Œ

# print(lines)

reader = csv.reader(lines)     # åˆ›å»ºä¸€ä¸ªcsvé˜…è¯»å™¨å¯¹è±¡, ç”¨äºè¯»å–csvæ–‡ä»¶, 
    # reader()å‡½æ•°æ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°, è¿”å›ä¸€ä¸ªcsvé˜…è¯»å™¨å¯¹è±¡, è¯¥å¯¹è±¡å¯ä»¥åƒè¿­ä»£å™¨ä¸€æ ·ä½¿ç”¨, æ¯æ¬¡è¿­ä»£è¿”å›ä¸€è¡Œæ•°æ®
# rint(reader)
# print()

header_row = next(reader)  
        # next()å‡½æ•°æ¥å—ä¸€ä¸ªè¿­ä»£å™¨ä½œä¸ºå‚æ•°, è¿”å›è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ , è¿™é‡Œè¿”å›çš„æ˜¯csvæ–‡ä»¶çš„ç¬¬ä¸€è¡Œ, å³è¡¨å¤´
        # next()å‡½æ•°ä¼šä¿®æ”¹è¿­ä»£å™¨çš„çŠ¶æ€, ä½¿å…¶æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ , æ‰€ä»¥æ¯æ¬¡è°ƒç”¨next()å‡½æ•°éƒ½ä¼šè¿”å›ä¸åŒçš„å…ƒç´ 

# print(header_row)

# ğŸ‘† è¿™æ®µä»£ç çš„åŠŸèƒ½æ˜¯â€”â€”æ‰“å¼€ä¸€ä»½å¤©æ°”æ•°æ®çš„ CSV æ–‡ä»¶ï¼ŒæŠŠç¬¬ä¸€è¡Œï¼ˆä¹Ÿå°±æ˜¯æ ‡é¢˜è¡Œï¼‰è¯»å‡ºæ¥å¹¶æ‰“å°å‡ºæ¥ã€‚

# æ‰¾å‡ºéœ€è¦çš„åˆ—çš„åºå·ï¼Œä»è¾“å‡ºå¯çŸ¥ï¼Œæ˜¯5
for index, column_header in enumerate(header_row): # enumerate()å‡½æ•°ç”¨äºå°†å¯è¿­ä»£å¯¹è±¡ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼ŒåŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨forå¾ªç¯å½“ä¸­ã€‚
    print(index, column_header)          # è¾“å‡ºæ¯ä¸€åˆ—çš„ç´¢å¼•å’Œåˆ—å

# æå–æ—¥æœŸå’Œæ°”æ¸©
dates, numbers =[], [] # åˆ›å»ºä¸¤ä¸ªç©ºåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨æ—¥æœŸå’Œæ°”æ¸©æ•°æ®
for row in reader:
    current_date = datetime.strptime(row[2], '%Y/%m/%d')            # å°†æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºdatetimeå¯¹è±¡ï¼Œå‚æ•°ä¸ºæ—¥æœŸå­—ç¬¦ä¸²å’Œæ—¥æœŸæ ¼å¼
    try:
        number = float(row[5])   # â† ç”¨ float() è€Œä¸æ˜¯ int()ã€‚ numberå’Œnumbersæ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼Œnumberæ˜¯å½“å‰è¡Œçš„æ°”æ¸©ï¼Œnumbersæ˜¯æ‰€æœ‰è¡Œçš„æ°”æ¸©
    except ValueError:
        print(f"Missing or invalid data for {row[2]}") # å¦‚æœå½“å‰è¡Œçš„æ°”æ¸©æ•°æ®æ— æ•ˆï¼Œåˆ™æ‰“å°ä¸€æ¡é”™è¯¯æ¶ˆæ¯
    else:
        dates.append(current_date)      # å°†å½“å‰è¡Œçš„æ—¥æœŸå’Œæ°”æ¸©æ•°æ®æ·»åŠ åˆ°åˆ—è¡¨ä¸­
        numbers.append(number)          # å°†å½“å‰è¡Œçš„æ°”æ¸©æ•°æ®æ·»åŠ åˆ°åˆ—è¡¨ä¸­

# ç»˜åˆ¶æ°”æ¸©å›¾
plt.style.use('seaborn-v0_8')
fig, ax = plt.subplots()            # axesæ„æ€æ˜¯åæ ‡è½´ï¼Œsubplotæ˜¯å­å›¾çš„æ„æ€ï¼Œæ‰€ä»¥subplotså°±æ˜¯å­åæ ‡è½´çš„æ„æ€
ax.plot(dates, numbers, c='red', alpha=0.5)
ax.fill_between(dates, numbers, facecolor='blue', alpha=0.1)
ax.set_title("Daily high and low temperatures - 2021", fontsize=24)
ax.set_xlabel('', fontsize=16)
fig.autofmt_xdate()
ax.set_ylabel("Temperature (F)", fontsize=16)
ax.tick_params(axis='both', which='major', labelsize=16)

plt.show()
'''