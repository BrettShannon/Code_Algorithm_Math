import numpy as np

x = np.random.standard_normal((1000000, 5))
# ä¸Šé¢è¿™æ®µä»£ç çš„æ„æ€æ˜¯ï¼šç”Ÿæˆä¸€ä¸ª1000000è¡Œ5åˆ—çš„äºŒç»´æ•°ç»„ï¼Œç„¶åç”Ÿæˆä¸€ä¸ª1000000è¡Œ10åˆ—çš„äºŒç»´æ•°ç»„ï¼Œ
# standard_normalå‡½æ•°ç”Ÿæˆæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°
# æ­£æ€åˆ†å¸ƒ æ˜¯ä¸€ç§è¿ç»­å‹éšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒï¼Œåœ¨è‡ªç„¶ç•Œå’Œå®é™…ä¸­æ™®éå­˜åœ¨

y = 2 * x + 3

C = np.array((x, y), order = 'C')
# array((x, y) order = 'C')å‡½æ•°ç”Ÿæˆä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè¡Œä¼˜å…ˆå­˜å‚¨

F = np.array((x, y), order = 'F')
# array((x, y) order = 'F')å‡½æ•°ç”Ÿæˆä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œåˆ—ä¼˜å…ˆå­˜å‚¨

x = 0.0; y = 0.0
# åˆå§‹åŒ–xå’Œy

# print(C[:2].round(2))
# round(2)å‡½æ•°ä¿ç•™ä¸¤ä½å°æ•°

# ä»¥ä¸Šè¿™æ®µä»£ç çš„æ„æ€æ˜¯ï¼šç”Ÿæˆä¸€ä¸ª1000000è¡Œ5åˆ—çš„äºŒç»´æ•°ç»„ï¼Œç„¶åç”Ÿæˆä¸€ä¸ª1000000è¡Œ10åˆ—çš„äºŒç»´æ•°ç»„ï¼Œ
# æœ€åç”Ÿæˆä¸€ä¸ª1000000è¡Œ10åˆ—çš„äºŒç»´æ•°ç»„ï¼Œè¡Œä¼˜å…ˆå­˜å‚¨å’Œåˆ—ä¼˜å…ˆå­˜å‚¨ã€‚

# æœ€åè¾“å‡ºçš„æ˜¯Cæ•°ç»„çš„å‰ä¸¤è¡Œï¼Œä¿ç•™ä¸¤ä½å°æ•°ã€‚
# è¾“å‡ºç»“æœä¸ºï¼š
# [[-1.23  0.45 -0.78  1.23 -0.45]
#  [ 0.78 -1.23  0.45 -0.78  1.23]]
# è¿™æ˜¯å› ä¸ºCæ•°ç»„æ˜¯è¡Œä¼˜å…ˆå­˜å‚¨çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œæ˜¯xæ•°ç»„çš„ç¬¬ä¸€è¡Œï¼Œç¬¬äºŒè¡Œæ˜¯yæ•°ç»„çš„ç¬¬ä¸€è¡Œã€‚
# è€ŒFæ•°ç»„æ˜¯åˆ—ä¼˜å…ˆå­˜å‚¨çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€åˆ—æ˜¯xæ•°ç»„çš„ç¬¬ä¸€åˆ—ï¼Œç¬¬äºŒåˆ—æ˜¯yæ•°ç»„çš„ç¬¬ä¸€åˆ—ã€‚
# æ‰€ä»¥è¾“å‡ºç»“æœå’ŒCæ•°ç»„æ˜¯ä¸€æ ·çš„ã€‚

import time # æ—¶é—´

# %timeit C.sum() ğŸ‘‰ è¿™è¡Œä»£ç åªèƒ½åœ¨ Jupyter Notebook/IPython ä¸­ä½¿ç”¨

start = time.perf_counter() # perf_counterå‡½æ•°è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºè‡ªçºªå…ƒä»¥æ¥çš„ç§’æ•°
result = C.sum()
end = time.perf_counter()

print(f"Sum: {result}, Time: {end-start:.6f} seconds") # end-start:.6f è¡¨ç¤ºä¿ç•™6ä½å°æ•°
# Sum: {result} è¡¨ç¤ºè¾“å‡ºç»“æœ
# Time: {end-start:.6f} seconds è¡¨ç¤ºè¿è¡Œæ—¶é—´
# è¾“å‡ºç»“æœï¼šSum: 15005250.344224954, Time: 0.012767 seconds

start = time.perf_counter()
result_1 = F.sum()
result_2 = C.sum(axis = 0) # æŒ‰åˆ—æ±‚å’Œ
result_3 = C.sum(axis = 1) # æŒ‰è¡Œæ±‚å’Œ
result_4 = F.sum(axis = 0) # æŒ‰åˆ—æ±‚å’Œ
result_5 = F.sum(axis = 1) # æŒ‰è¡Œæ±‚å’Œ
end = time.perf_counter()

print(f"\nSum: {result_1}, Time: {end-start:.6f} seconds") # è¾“å‡ºç»“æœä¿ç•™6ä½å°æ•°
print(f"\nSum: {result_2}, Time: {end-start:.6f} seconds") # è¾“å‡ºç»“æœä¿ç•™6ä½å°æ•°
print(f"\nSum: {result_3}, Time: {end-start:.6f} seconds") # è¾“å‡ºç»“æœä¿ç•™6ä½å°æ•°
print(f"\nSum: {result_4}, Time: {end-start:.6f} seconds") # è¾“å‡ºç»“æœä¿ç•™6ä½å°æ•°
print(f"\nSum: {result_5}, Time: {end-start:.6f} seconds") # è¾“å‡ºç»“æœä¿ç•™6ä½å°æ•°